{% extends 'base/base_dashboard.html' %}
{% block title %}Eliminar Ajuste{% endblock %}

{% block inner_content %}
<form id="deleteForm" method="post">
  {% csrf_token %}
</form>

<!-- SweetAlert2 desde CDN -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    Swal.fire({
      title: '¿Estás seguro?',
      html: `
        <p>¿Deseas eliminar el ajuste de <strong>{{ adjustment.product.name }}</strong> en <strong>{{ adjustment.location.name }}</strong>?</p>
      `,
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#d33',
      cancelButtonColor: '#3085d6',
      confirmButtonText: 'Sí, eliminar',
      cancelButtonText: 'Cancelar'
    }).then((result) => {
      if (result.isConfirmed) {
        document.getElementById("deleteForm").submit();
      } else {
        // Redirige al listado de ajustes si cancela
        window.location.href = "{% url 'inventory_adjustments:adjustment_list' %}";
      }
    });
  });
</script>
{% endblock %}
